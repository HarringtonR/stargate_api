option_settings:
  aws:elasticbeanstalk:application:environment:
    # Ensure proper startup behavior
    ASPNETCORE_PREVENTHOSTINGSTARTUP: false
    ASPNETCORE_SUPPRESSSTATUSMESSAGES: false
    
# Container commands to ensure proper permissions and setup
container_commands:
  01_set_time_zone:
    command: "ln -f -s /usr/share/zoneinfo/UTC /etc/localtime"
    ignoreErrors: true
  02_create_logs_dir:
    command: "mkdir -p /var/app/current/logs && chown webapp:webapp /var/app/current/logs"
    ignoreErrors: true
  03_verify_dotnet:
    command: "which dotnet && dotnet --version"
    ignoreErrors: true